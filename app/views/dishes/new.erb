<h1>Create A New Dish</h1>
<% unless @error_message != "invalid input" %>
  **Please fill in all required fields**<br><br>
<% end %>


<form action="/dishes" method="POST">
  <label> Dish Name: </label>
  <input type="text" name="dish[name]"> <br>
  
  <label> Visit Date: </label>
  <input type="date" name="visit[date]"> <br>

  <label> Rating: </label>
  <input type="text" name="visit[rating]"> <br><br>

  <label> Review (optional): </label>
  <textarea name="visit[review]"></textarea> 

  <p>Select an existing Restaurant or create a new one below.</p>

  <h3>Existing Restaurants</h3>
  <% @restaurants.each do |r| %>
    <input type="radio" name="dish[restaurant_id]" value="<%= r.id %>"><%= r.name %></input><br>
  <% end %>
  <br>

  <h3>New Restaurant</h3>
  <label>Restaurant Name: </label>
  <br>
  <input type="text" name="restaurant[name]"></input>
  <label> Restaurant Type: </label>
  <input type="text" name="restaurant[cuisine]"> </br>
  <input type="hidden" name="restaurant[user_id]" value="<%= current_user.id %>">
  <br><br>

  <input type="submit" value="Create">
</form>